## 1、文件

### 1.1、文件属性

Linux 系统是一种典型的多用户，多任务系统，不同的用户处于不同的地位，拥有不同的权限。

为了保护系统的安全性，Linux 系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。

在 Linux 中我们可以使用 `ll` 或者 `ls –l` 命令来显示一个文件的属性以及文件所属的用户和组。

![looper_2020-10-24_16-42-08.png](E:/soft/personalNotes/Spring/01-Linux/image/looper_2020-10-24_16-42-08.png)

在Linux中第一个字符代表这个文件是目录、文件或链接文件等等

- `d` 则是目录
- `-` 则是文件
- `l` 则表示为链接文档（link file）
- `b` 则表示为装置文件里面的可供储存的接口设备（可随机存取装置）
- `c` 则表示为装置文件里面的串行端口设备，例如键盘、鼠标（一次性读取装置）

接下来的字符中，以三个为一组，且均为 「rwx」 的三个参数的组合（三个权限的位置不会改变）

* `r`：代表可读（read）
* `w`：代表可写（write）
* `x`：代表可执行（execute）
* `-`：代表无权限

每个文件的属性由左边第一部分的 10 个字符来确定（如下图）：

![looper_2020-10-24_16-56-29.png](E:/soft/personalNotes/Spring/01-Linux/image/looper_2020-10-24_16-56-29.png)

对于文件来说，它都有一个特定的所有者，也就是对该文件具有所有权的用户

同时，在 Linux 系统中，用户是按组分类的，一个用户属于一个或多个组

文件所有者以外的用户又可以分为文件所有者的同组用户和其他用户

因此，Linux系统按文件所有者、文件所有者同组用户和其他用户来规定了不同的文件访问权限

<br>

### 1.2、修改文件属性

**chgrp：更改文件组属性**

* chgrp [-R] 属组名 文件名

  -R：递归更改文件属组（该目录下的所有文件的属组都会更改）

<br>

**chown：更改文件属主，也可以同时更改文件属组**

* chown [-R] 属主名 文件名
* chown [-R] 属主名:属组名 文件名

<br>

**chmod：更改文件9个属性**

* chmod [-R] xyz 文件或目录

Linux 文件属性有两种设置方法，一种是数字，一种是符号

Linux 文件的基本权限就有九个，分别是 owner/group/others 三种身份各有自己的 read/write/execute 权限

<br>

文件的权限字符为「-rwxrwxrwx」，这九个权限是三个三个一组。其中，可以使用数字来代表各个权限，各权限的分数对照表示：r=4、w=2、x=1；每种身份 owner/group/others 各自的三个权限 r/w/x 分数是需要累加的。

例如当权限为：[-rwxrwx---] 分数则是：

- owner = rwx = 4+2+1 = 7
- group = rwx = 4+2+1 = 7
- others = --- = 0+0+0 = 0

则执行的命令为：`chmod 770 filename`

<br>

### 1.3、文件内容查看

- cat 由第一行开始显示文件内容
- tac 从最后一行开始显示，可以看出 tac 是 cat 的倒着写
- nl  显示的时候，顺道输出行号
- more 一页一页的显示文件内容
- less 与 more 类似，但是比 more 更好的是，他可以往前翻页
- head 只看头几行
- tail 只看尾巴几行

你可以使用 man [命令] 来查看各个命令的使用文档，如 ：man cp

<br>

**cat 由第一行开始显示文件内容**

* cat [-AbEnTv] 文件
* -A：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已
* -b：列出行号，仅针对非空白行做行号显示，空白行不标行号
* -E：将结尾的断行字节 $ 显示出来
* -n：列印出行号，连同空白行也会有行号，与 -b 的选项不同
* -T：将 [tab] 按键以 ^I 显示出来
* -v：列出一些看不出来的特殊字符

<br>

**tac 文件内容从最后一行开始显示**

<br>

**nl  显示的时候，顺道输出行号**

* nl [-bnw] 文件

- -b：指定行号指定的方式，主要有两种：

  -b a：表示不论是否为空行，也同样列出行号（类似 cat -n）

  -b t：表示如果有空行，空的那一行不要列出行号（默认值）

- -n：列出行号表示的方法，主要有三种：

  -n ln：行号在荧幕的最左方显示

  -n rn：行号在自己栏位的最右方显示，且不加 0

  -n rz：行号在自己栏位的最右方显示，且加 0

- -w：行号栏位的占用的位数

<br>

**more  一页一页翻动**

- 空格（space）：代表向下翻一页
- 回车（Enter）：代表向下翻一行
- `/字串`：代表在这个显示的内容当中，向下搜寻「字串」这个关键字；
- `:f`：立刻显示出档名以及目前显示的行数；
- `q`：代表立刻离开 more ，不再显示该文件内容。
- `b` 或 `[ctrl]-b`：代表往回翻页，不过这动作只对文件有用，对管线无用

<br>

**less  一页一页翻动**

* 空格：向下翻动一页；

- pagedown 键：向下翻动一页；
- pageup 键：向上翻动一页；
- `/字串`：向下搜寻「字串」的功能；
- `?字串`：向上搜寻「字串」的功能；
- `n`：重复前一个搜寻（与 / 或 ? 有关！）
- `N`：反向的重复前一个搜寻（与 / 或 ? 有关！）
- `q`：离开 less 这个程序

<br>

**tail  取出文件后面几行**

* tail [-n number] 文件

- `-n`：后面接数字，代表显示几行的意思

默认的情况中，显示最后 10 行！若要显示最后 20 行，就得要这样：

* `tail -n 20 /etc/csh.login`

<br>