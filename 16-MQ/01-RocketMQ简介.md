## RocketMQ

阿里巴巴开源的高性能 MQ 消息中间件，Java 编程语言实现，有非常好完整生态系统。

RocketMQ 作为一款纯 Java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等。

RocketMQ 是一款典型的分布式架构下的中间件产品，使用异步通信方式和发布订阅的消息传输模型。通信方式和传输模型的具体说明，请参见下文**通信方式介绍**和**消息传输模型**介绍。 

RocketMQ 产品具备异步通信的优势，系统拓扑简单、上下游耦合较弱，主要应用于异步解耦，流量削峰填谷等场景。



RocketMQ 官方文档地址：https://rocketmq.apache.org/zh/docs/



### RocketMQ核心概念



#### 消息生产

生产者（Producer）：在 RocketMQ 中用于产生消息的实体信息，一般集成于业务调用链路的上游。生产者是轻量级匿名无身份的。



#### 消息存储

NameSpace 一般指消息服务端，一般用于消息存储，以及消息接收

- 主题（Topic）：RocketMQ 消息传输和存储的分组容器，主题内部由多个队列组成，消息的存储和水平扩展实际是通过主题内的队列实现的。
- 队列（MessageQueue）：RocketMQ 消息传输和存储的实际单元容器，类比于其他消息队列中的分区。 RocketMQ 通过流式特性的无限队列结构来存储消息，消息在队列内具备顺序性存储特征。
- 消息（Message）：RocketMQ 的最小传输单元。消息具备不可变性，在初始化发送和完成存储后即不可变。



#### 消息消费

消费者（Consumer）



NameServer：可以理解为是一个注册中心，主要是用来保存 topic 路由信息，管理 Broker。在 NameServer 的集群中，NameServer 与 NameServer 之间是没有任何通信的。



Broker：核心的一个角色，主要是用来保存topic的信息，接受生产者产生的消息，持久化消息。在一个Broker集群中，相同的BrokerName可以称为一个Broker组，一个Broker组中,BrokerId为0的为主节点，其它的为从节点。BrokerName和BrokerId是可以在Broker启动时通过配置文件配置的。每个Broker组只存放一部分消息。



生产者：生产消息的一方就是生产者

生产者组：一个生产者组可以有很多生产者，只需要在创建生产者的时候指定生产者组，那么这个生产者就在那个生产者组



消费者：用来消费生产者消息的一方

消费者组：跟生产者一样，每个消费者都有所在的消费者组，一个消费者组可以有很多的消费者，不同的消费者组消费消息是互不影响的。



topic（主题） ：可以理解为一个消息的集合的名字，生产者在发送消息的时候需要指定发到哪个topic下，消费者消费消息的时候也需要知道自己消费的是哪些topic底下的消息。



Tag（子主题）：比 topic 低一级，可以用来区分同一 topic 下的不同业务类型的消息，发送消息的时候也需要指定。

