## 1、互联网业务模型

### 单一应用

就是指一个应用，涵盖所有的业务功能，部署到一起。



<br>

### 垂直应用（MVC）

将单体应用拆分成互不相干的几个应用。



<br>

### 分布式应用（）

应用调用不同的服务，使用分布式服务框架 RPC 实现不同进程之间的对象方法调用。

* 应用之间进行交互
* 将核心业务抽取出来作为独立的服务



<br>

### 流动计算架构（SOA）

* 随着服务化的进一步发展，服务越来越多，服务之间的调用和依赖关系也越来越复杂，诞生了面向服务的架构体系(SOA)，也因此衍生出了一系列相应的技术，如对服务提供、服务调用、连接处理、通信协议、序列化方式、服务发现、服务路由、日志输出等行为进行封装的服务框架

* 此时，用于提高机器利用率的资源调度和治理中心(SOA) 是关键



* 提高计算机利用率的资源调度和治理中心（SOA）

<br>

## 2、Dubbo

### 2.1、什么是Dubbo

* 一款分布式服务框架 

* 高性能和透明化的 RPC 远程服务调用方案 

* SOA 服务治理方案

<br>

### 2.2、Dubbo架构

Container（服务器容器）、Provider（服务提供者）、Registry（注册中心）、Consumer（消费者）、Monitor（监控中心）

<br>

### 2.3、Dubbo服务调用流程

1. Container 服务器容器启动，加载，运行服务提供者
2. Provider 服务提供者启动时，向注册中心注册自己的服务
3. Consumer 服务消费者启动时，向注册中心订阅自己需要的服务
4. 注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。 
5. 服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。
6. 服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心

<br>

### 2.5、注册中心

* Multicast 注册中心

* Zookeeper 注册中心

* Redis 注册中心

* Simple 注册中心

<br>

### 2.6、Dubbo有缺点

#### 2.6.1、优点

* 透明化的远程方法调用 

像调用本地方法一样调用远程方法；只需简单配置，没有任何 API 侵入

* 软负载均衡及容错机制 

可在内网替代 nginx、lvs 等硬件负载均衡器

* 服务注册中心自动注册 & 配置管理 

不需要写死服务提供者地址，注册中心基于接口名自动查询提供者 ip

* 使用类似 zookeeper 等分布式协调服务作为服务注册中心，可以将绝大部分项目配置移入 zookeeper 集群

* 服务接口监控与治理 

Dubbo-admin 与 Dubbo-monitor 提供了完善的服务接口管理与监控功能，针对不同应用的不同接口，可以进行 多版本，多协议，多注册中心管理

#### 2.6.2、缺点

* 只支持 Java 语言

<br>

### 2.7、Dubbo开发入门Demo

#### 2.7.1、Zookeeper

##### 什么是Zookeeper

Zookeeper 是一个分布式的服务框架,是树型的目录服务的数据存储，能做到集群管理数据 ，这里能很好的作为 Dubbo 服务的注册中心

<br>

##### 使用Zookeeper作为Dubbo的注册中心的好处

Dubbo 能与 Zookeeper 做到集群部署，当提供者出现断电等异常停机时，Zookeeper 注册中心能自动删除提供者信息，当提供者重启时，能自动恢复注册数据，以及订阅请求

<br>

##### Zookeeper安装